{"componentChunkName":"component---src-templates-post-template-js","path":"/sw_development/etc/openssl-cve-20221101/","result":{"data":{"site":{"siteMetadata":{"title":"Louis","author":"Louis"}},"markdownRemark":{"id":"46b2cf13-1b92-5da9-9a12-7ca60aa33845","excerpt":"최근 OpenSSL에 치명적인 취약점이 발견되었다고 전 세계적인 보안 위기가 기사화 되고 있었다. 그리고 2022년 11월 1일, OpenSSL에서 취약점에 대한 업데이트와 권고 내용을 발표했다.","html":"<p>최근 OpenSSL에 치명적인 취약점이 발견되었다고 전 세계적인 보안 위기가 기사화 되고 있었다. 그리고 2022년 11월 1일, OpenSSL에서 취약점에 대한 업데이트와 권고 내용을 발표했다.</p>\n<!-- more -->\n<h1>취약점</h1>\n<hr>\n<h2>개요</h2>\n<p>이번 취약점은 OpenSSL 3.0.0부터 도입된 Name Constraints 중 email address를 처리하는 곳에서 발견되었다.\n인증서 확장 필드 중 Name Constraints 라는 것이 있다. 인증 경로 상의 인증서의 Subject Distinguished Name과 Subject Alternative Name을 제약하기 위해 CA에서 사용한다.\nName Constraints는 주로 Directory Name, DNS, Email address 등에서 적용된다.</p>\n<h2>CVE-2022-3602</h2>\n<ul>\n<li>X.509 Email Address 4-byte Buffer Overflow</li>\n<li>Severity: High (Pre-announcement Severity : CRITICAL)\n<ul>\n<li>원격 실행이 가능할 수 있기 때문에 위험성을 CRITICAL로 알렸지만, 발생할 수 있는 상황이 제한적이므로 (많은 플랫폼에서 오버플로우 보호 조치가 되어 있음) 수준이 HIGH로 하향 조정되었다.</li>\n</ul>\n</li>\n<li>X.509 인증서 검증에서 발생할 수 있다.</li>\n<li>인증서 체인 서명 검증 후 CA가 악의적인 인증서에 서명했거나 신뢰 발급자까지 인증 경로 구축에 실패했어도 애플리케이션이 인증서 검증을 계속하도록 요구된다.</li>\n<li>공격자는 제어 가능한 4 bytes가 스택에서 오버플로우 되도록 악의적인 이메일 주소를 만들 수 있다.</li>\n<li>이 버퍼 오버플로우는 서비스를 거부하는 크래쉬나 잠재적인 원격 코드 실행을 발생시킬 수 있다.</li>\n<li>이 이슈로 영향받는 OpenSSL 버전은 3.0.0 ~ 3.0.6 이다. 이 경우 3.0.7로 업그레이드 해야한다.</li>\n<li>OpenSSL 1.1.1, 1.0.2은 이 취약점에 영향받지 않는다.</li>\n</ul>\n<h2>CVE-2022-3786</h2>\n<ul>\n<li>X.509 Email Address Variable Length Buffer Overflow</li>\n<li>Severity: High</li>\n<li>X.509 인증서 검증에서 발생할 수 있다.</li>\n<li>인증서 체인 서명 검증 후 CA가 악의적인 인증서에 서명했거나 신뢰 발급자까지 인증 경로 구축에 실패했어도 애플리케이션이 인증서 검증을 계속하도록 요구된다.</li>\n<li>공격자는 오버플로우 되도록 무작위 개수의 `.' character (decimal 46)를 포함해 악의적인 이메일 주소를 만들 수 있다.</li>\n<li>이 버퍼 오버플로우는 서비스를 거부하는 크래쉬가 발생될 수 있다.</li>\n<li>이 이슈로 영향받는 OpenSSL 버전은 3.0.0 ~ 3.0.6 이다. 이 경우 3.0.7로 업그레이드 해야한다.</li>\n<li>OpenSSL 1.1.1, 1.0.2은 이 취약점에 영향받지 않는다.</li>\n</ul>\n<h1>OpenSSL 버전 확인</h1>\n<hr>\n<ul>\n<li>version 확인 방법</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">openssl version -a</code></pre></div>\n<h1>AWS 사용 시 OpenSSL 버전 업데이트</h1>\n<hr>\n<ul>\n<li>AWS의 공지 내용을 확인하면 AWS Service는 이 취약점에 영향받지 않는다고 한며, Amazon Linux 1과 2는 OpenSSL 3.0을 사용하지 않는다고 한다.\n<ul>\n<li>내용 발췌 : AWS is aware of the recently reported issues regarding OpenSSL 3.0 (CVE-2022-3602 and CVE-2022-3786). <strong>AWS services are not affected, and no customer action is required. Additionally, Amazon Linux 1 and Amazon Linux 2 do not ship with OpenSSL 3.0 and are not affected by these issues.</strong></li>\n<li>원문 : <a href=\"https://aws.amazon.com/security/security-bulletins/AWS-2022-008/\">AWS OpenSSL 취약점 이슈 공지</a></li>\n</ul>\n</li>\n<li>Amazon Linux 2 AMI를 사용한 EC2에서 OpenSSL 버전을 확인한 결과</li>\n</ul>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ openssl version -a\n<span class=\"gatsby-highlight-code-line\">OpenSSL <span class=\"token number\">1.0</span>.2k-fips  <span class=\"token number\">26</span> Jan <span class=\"token number\">2017</span></span>built on: reproducible build, <span class=\"token function\">date</span> unspecified\nplatform: linux-x86_64\noptions:  bn<span class=\"token punctuation\">(</span><span class=\"token number\">64,64</span><span class=\"token punctuation\">)</span> md2<span class=\"token punctuation\">(</span>int<span class=\"token punctuation\">)</span> rc4<span class=\"token punctuation\">(</span>16x,int<span class=\"token punctuation\">)</span> des<span class=\"token punctuation\">(</span>idx,cisc,16,int<span class=\"token punctuation\">)</span> idea<span class=\"token punctuation\">(</span>int<span class=\"token punctuation\">)</span> blowfish<span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">)</span> \ncompiler: gcc -I. -I<span class=\"token punctuation\">..</span> -I<span class=\"token punctuation\">..</span>/include  -fPIC -DOPENSSL_PIC -DZLIB -DOPENSSL_THREADS -D_REENTRANT -DDSO_DLFCN -DHAVE_DLFCN_H -DKRB5_MIT -m64 -DL_ENDIAN -Wall -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE<span class=\"token operator\">=</span><span class=\"token number\">2</span> -fexceptions -fstack-protector-strong --param<span class=\"token operator\">=</span>ssp-buffer-size<span class=\"token operator\">=</span><span class=\"token number\">4</span> -grecord-gcc-switches    -m64 -mtune<span class=\"token operator\">=</span>generic -Wa,--noexecstack -DPURIFY -DOPENSSL_IA32_SSE2 -DOPENSSL_BN_ASM_MONT -DOPENSSL_BN_ASM_MONT5 -DOPENSSL_BN_ASM_GF2m -DRC4_ASM -DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DMD5_ASM -DAES_ASM -DVPAES_ASM -DBSAES_ASM -DWHIRLPOOL_ASM -DGHASH_ASM -DECP_NISTZ256_ASM\nOPENSSLDIR: <span class=\"token string\">\"/etc/pki/tls\"</span>\nengines:  rdrand dynamic </code></pre></div>\n<h1>참고</h1>\n<hr>\n<ul>\n<li><a href=\"https://blog.alyac.co.kr/4969\">https://blog.alyac.co.kr/4969</a></li>\n<li><a href=\"https://www.openssl.org/blog/blog/2022/11/01/email-address-overflows/\">https://www.openssl.org/blog/blog/2022/11/01/email-address-overflows/</a></li>\n<li><a href=\"https://git.openssl.org/gitweb/?p=openssl.git;a=commitdiff;h=c42165b5706e42f67ef8ef4c351a9a4c5d21639a\">https://git.openssl.org/gitweb/?p=openssl.git;a=commitdiff;h=c42165b5706e42f67ef8ef4c351a9a4c5d21639a</a></li>\n<li><a href=\"https://git.openssl.org/gitweb/?p=openssl.git;a=commitdiff;h=fe3b639dc19b325846f4f6801f2f4604f56e3de3\">https://git.openssl.org/gitweb/?p=openssl.git;a=commitdiff;h=fe3b639dc19b325846f4f6801f2f4604f56e3de3</a></li>\n<li><a href=\"https://www.ssl.com/ko/%EA%B8%B0%EC%82%AC/%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80-%EB%B0%8F-%EC%9D%B8%EC%A6%9D%EC%84%9C-%EC%9C%A0%ED%9A%A8%EC%84%B1-%EA%B2%80%EC%82%AC/#path-construction\">https://www.ssl.com/ko/%EA%B8%B0%EC%82%AC/%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80-%EB%B0%8F-%EC%9D%B8%EC%A6%9D%EC%84%9C-%EC%9C%A0%ED%9A%A8%EC%84%B1-%EA%B2%80%EC%82%AC/#path-construction</a></li>\n</ul>","fields":{"slug":"/sw_development/etc/openssl-cve-20221101/"},"frontmatter":{"title":"OpenSSL 보안 취약점 업데이트 권고 발표 ( CVE-2022-3602, CVE-2022-3786 )","searchTexts":["OpenSSL 취약점 경고","AWS OpenSSL 보안 경고 대응","openssl vulnerability","PKI name constraints extension"],"category":"sw development","subCategory":"etc","tags":["Security"],"created":"Nov 04, 2022","updated":"Nov 04, 2022"},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%B7%A8%EC%95%BD%EC%A0%90\">취약점</a></p>\n<ul>\n<li><a href=\"#%EA%B0%9C%EC%9A%94\">개요</a></li>\n<li><a href=\"#cve-2022-3602\">CVE-2022-3602</a></li>\n<li><a href=\"#cve-2022-3786\">CVE-2022-3786</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#openssl-%EB%B2%84%EC%A0%84-%ED%99%95%EC%9D%B8\">OpenSSL 버전 확인</a></p>\n</li>\n<li>\n<p><a href=\"#aws-%EC%82%AC%EC%9A%A9-%EC%8B%9C-openssl-%EB%B2%84%EC%A0%84-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8\">AWS 사용 시 OpenSSL 버전 업데이트</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%B0%B8%EA%B3%A0\">참고</a></p>\n</li>\n</ul>"}},"pageContext":{"slug":"/sw_development/etc/openssl-cve-20221101/","prev":{"fields":{"slug":"/sw_development/devops/aws-cdk-eks-v23-troubleshooting/"},"frontmatter":{"title":"AWS. EKS CDK Troubleshooting - KubectlV23Layer","tags":["AWS","Kubernetes","K8S","EKS","CDK"],"category":"sw development","subCategory":"devops"}},"next":{"fields":{"slug":"/sw_development/spring-boot/resilience4j-feign-http-client/"},"frontmatter":{"title":"resilience4j 사용해서 HTTP API 연동하기","tags":["spring boot","system design","msa"],"category":"sw development","subCategory":"spring boot"}}}},"staticQueryHashes":["2152785458","3427181268"]}